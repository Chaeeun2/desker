rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // 설문조사 데이터 - 누구나 쓰기 가능, 읽기도 누구나 가능
    match /surveys/{document} {
      allow read, write: if true;  // 모든 접근 허용
    }

    // 설문지 스키마 - 읽기는 누구나, 쓰기는 인증된 사용자만
    match /surveySchemas/{document} {
      allow read: if true;  // 누구나 읽기 가능 (설문 폼에서 스키마 로드)
      allow write: if request.auth != null;  // 쓰기는 관리자만
    }

    // 설정 데이터 (이메일 템플릿, WorkLife 섹션 등) - 누구나 읽기 가능, 쓰기는 인증된 사용자만
    match /settings/{document} {
      allow read: if true;  // 누구나 읽기 가능
      allow write: if request.auth != null;  // 쓰기는 관리자만
    }
  }
}